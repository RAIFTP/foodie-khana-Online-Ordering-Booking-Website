<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=devi        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/malabarporotta.jpg" alt="Malabar Porotta" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Malabar Porotta</h3>
        <p class="desc">Flaky, soft, and layered porotta‚ÄîKerala's street food king.</p>
        <div class="price">‚Çπ60</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Malabar Porotta" data-price="60">Add to Cart</button>
        </div>
      </div>
        
      <div class="menu-card">initial-scale=1.0"/>
  <title>Kunsimol Foods</title>
  <link rel="stylesheet" href="nana.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Kunsi AI Assistant -->
  <div id="kunsiChat" class="kunsi-chat">
    <div class="chat-header">
      <span>Kunsi ü§ñ</span>
      <button id="closeKunsi">√ó</button>
    </div>
    <div class="chat-body" id="chatBody"></div>
    <div class="chat-footer">
      <input type="text" id="kunsiInput" placeholder="Ask Kunsi about our food or restaurant...">
      <button id="sendKunsi">Send</button>
    </div>
  </div>

  <button id="openKunsi" class="kunsi-btn">üí¨ Ask Kunsi</button>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
    <p>Loading delicious food...</p>
  </div>

  <header class="main-header">
    <div class="logo">Kunsimol</div>
    <nav class="nav-links" id="navLinks">
      <a href="#food">Menu</a>
      <a href="order.html">Order</a>
      <a href="#contact">Contact</a>
    </nav>
    <div class="header-icons">
      <button id="cartBtn" class="cart-icon" aria-label="Shopping Cart">
        üõí
        <span id="cartCount" class="cart-count">0</span>
      </button>
      <span>üë§</span>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Shopping Cart Sidebar -->
  <div id="cartSidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>Your Order</h3>
      <button id="closeCart" class="close-cart">√ó</button>
    </div>
    <div class="cart-items" id="cartItems">
      <p class="empty-cart">Your cart is empty</p>
    </div>
    <div class="cart-footer">
      <div class="cart-total">
        <strong>Total: ‚Çπ<span id="cartTotal">0</span></strong>
      </div>
      <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
    </div>
  </div>
  <div id="cartOverlay" class="cart-overlay"></div>

  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Delicious Food Is Waiting For You</h1>
      <p class="hero-subtext">Authentic Kerala cuisine crafted with love, tradition, and the finest spices. Experience flavors that tell stories of our heritage.</p>
      <div class="hero-buttons">
        <button class="btn-primary" onclick="document.getElementById('food').scrollIntoView({behavior: 'smooth'})">Food Menu</button>
        <button class="btn-secondary" onclick="window.location.href='order.html'">Book a Table</button>
      </div>
    </div>
    <div class="hero-image-container">
      <img src="img/1.jpg" alt="Delicious Kerala Food" class="hero-image">
    </div>
  </section>

  <!-- FOOD SECTION -->
  <section id="food">
    <h2>Our Special Items</h2>
    <div class="menu-list">
      <div class="menu-card featured">
        <img src="img/1.jpg" alt="Biriyani" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Chicken Biriyani</h3>
        <p class="desc">Delicious spicy biriyani with perfectly cooked chicken.</p>
        <div class="price">‚Çπ150</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Chicken Biriyani" data-price="150">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/lavabiriyani.avif" alt="Lava Biriyani" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Lava Biriyani</h3>
        <p class="desc">Fiery, flavorful biriyani with a molten spicy center. For the brave!</p>
        <div class="price">‚Çπ250</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Lava Biriyani" data-price="250">Add to Cart</button>
        </div>
      </div>
        <div class="food-item">
          <img src="img/malabarporotta.jpg" alt="Malabar Porotta">
          <h3>Malabar Porotta</h3>
          <p>Flaky, soft, and layered porotta‚ÄîKerala‚Äôs street food king.</p>
          <div class="price-box">‚Çπ60</div>
          <button class="buy-btn" data-item="Malabar Porotta" data-price="60">Buy Now</button>
        </div>
        <div class="menu-card">
          <img src="img/puttumkadal.jpg" alt="Puttum Kadala" loading="lazy">
          <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
          <h3>Puttum Kadala</h3>
          <p class="desc">Steamed rice cake with spicy black chickpea curry. A breakfast legend!</p>
          <div class="price">‚Çπ80</div>
          <div class="menu-actions">
            <button class="quantity-btn minus" data-action="decrease">-</button>
            <span class="quantity">0</span>
            <button class="quantity-btn plus" data-action="increase">+</button>
            <button class="add-to-cart-btn" data-item="Puttum Kadala" data-price="80">Add to Cart</button>
          </div>
        </div>
        <div class="menu-card">
          <img src="img/appamandstew.jpg" alt="Appam & Stew" loading="lazy">
          <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
          <h3>Appam & Stew</h3>
          <p class="desc">Soft appams with creamy coconut stew. A Kerala breakfast classic!</p>
          <div class="price">‚Çπ90</div>
          <div class="menu-actions">
            <button class="quantity-btn minus" data-action="decrease">-</button>
            <span class="quantity">0</span>
            <button class="quantity-btn plus" data-action="increase">+</button>
            <button class="add-to-cart-btn" data-item="Appam & Stew" data-price="90">Add to Cart</button>
          </div>
        </div>
        <div class="menu-card">
          <img src="img/fishcurrymeals.jpg" alt="Fish Curry Meals" loading="lazy">
          <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
          <h3>Fish Curry Meals</h3>
          <p class="desc">Steamed rice with spicy Kerala fish curry and all the sides.</p>
          <div class="price">‚Çπ180</div>
          <div class="menu-actions">
            <button class="quantity-btn minus" data-action="decrease">-</button>
            <span class="quantity">0</span>
            <button class="quantity-btn plus" data-action="increase">+</button>
            <button class="add-to-cart-btn" data-item="Fish Curry Meals" data-price="180">Add to Cart</button>
          </div>
        </div>
        <div class="menu-card">
          <img src="img/eggroast.jpg" alt="Egg Roast" loading="lazy">
          <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
          <h3>Egg Roast</h3>
          <p class="desc">Boiled eggs in a spicy onion-tomato masala. Perfect with appam or parotta!</p>
          <div class="price">‚Çπ70</div>
          <div class="menu-actions">
            <button class="quantity-btn minus" data-action="decrease">-</button>
            <span class="quantity">0</span>
            <button class="quantity-btn plus" data-action="increase">+</button>
            <button class="add-to-cart-btn" data-item="Egg Roast" data-price="70">Add to Cart</button>
          </div>
        </div>
      
      <div class="menu-card">
        <img src="img/2.jpg" alt="Porotta" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Porotta & Beef</h3>
        <p class="desc">Soft Kerala porotta with spicy beef curry. A classic combo!</p>
        <div class="price">‚Çπ180</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Porotta & Beef" data-price="180">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/3.jpg" alt="Meals" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Veg Meals</h3>
        <p class="desc">Authentic Kerala meals served on banana leaf. Fresh & healthy.</p>
        <div class="price">‚Çπ120</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Veg Meals" data-price="120">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/shawarma roll.jpg" alt="shawarma roll" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Shawarma Roll</h3>
        <p class="desc">Grilled shawarma wrapped in pita, with garlic mayo and veggies.</p>
        <div class="price">‚Çπ90</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Shawarma Roll" data-price="90">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/shawarma plate.jpg" alt="shawarma plate" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Shawarma Plate</h3>
        <p class="desc">Spiced chicken with hummus, salad, and warm pita.</p>
        <div class="price">‚Çπ140</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Shawarma Plate" data-price="140">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/shawai.webp" alt="shawaya" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Shawaya</h3>
        <p class="desc">Marinated grilled meat over rice ‚Äì smoky & satisfying.</p>
        <div class="price">‚Çπ200</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Shawaya" data-price="200">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/kunsimol fried chicken.png" alt="fried chicken" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Kunsimol Fried Chicken</h3>
        <p class="desc">Golden crispy chicken with bold seasoning.</p>
        <div class="price">‚Çπ160</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Kunsimol Fried Chicken" data-price="160">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/kunsi special.png" alt="kunsi special" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Kunsi Special</h3>
        <p class="desc">Slow-cooked spiced meat blend, our signature delight.</p>
        <div class="price">‚Çπ220</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Kunsi Special" data-price="220">Add to Cart</button>
        </div>
      </div>
      
      <div class="menu-card">
        <img src="img/ali ka dhosth.png" alt="ali ka dhosth" loading="lazy">
        <div class="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <h3>Ali Ka Dhosth Tea</h3>
        <p class="desc">Lightly spiced tea served hot or iced ‚Äì your tea-time bestie.</p>
        <div class="price">‚Çπ40</div>
        <div class="menu-actions">
          <button class="quantity-btn minus" data-action="decrease">-</button>
          <span class="quantity">0</span>
          <button class="quantity-btn plus" data-action="increase">+</button>
          <button class="add-to-cart-btn" data-item="Ali Ka Dhosth Tea" data-price="40">Add to Cart</button>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURED DISH SECTION -->
  <section class="featured-dish">
    <img src="img/kunsimol fried chicken.png" alt="Featured Dish" class="featured-image">
    <div class="featured-dish-content">
      <h2 class="featured-dish-title">Best Crispy Fried Chicken</h2>
      <p class="featured-dish-desc">Our signature Kunsimol Fried Chicken is golden, crispy, and seasoned to perfection. Made with our secret blend of spices and cooked fresh to order. A customer favorite that keeps people coming back for more!</p>
    </div>
  </section>

  <!-- SERVICES SECTION -->
  <section class="services-section">
    <h2>Our Services</h2>
    <div class="services">
      <div class="service">
        <div class="service-icon">üì±</div>
        <h4 class="service-title">Online Booking</h4>
        <p class="service-desc">Easy table reservations</p>
      </div>
      <div class="service">
        <div class="service-icon">üçΩÔ∏è</div>
        <h4 class="service-title">Catering</h4>
        <p class="service-desc">Events & parties</p>
      </div>
      <div class="service">
        <div class="service-icon">üöö</div>
        <h4 class="service-title">Delivery</h4>
        <p class="service-desc">Fast & fresh delivery</p>
      </div>
      <div class="service">
        <div class="service-icon">‚≠ê</div>
        <h4 class="service-title">Membership</h4>
        <p class="service-desc">Exclusive benefits</p>
      </div>
    </div>
  </section>

  <!-- TRUSTED BY SECTION -->
  <section id="trusted">
    <h2>Trusted by 100+ Restaurants</h2>
    <p>Join the network of top restaurants that trust Kunsimol for authentic Kerala flavors.</p>
    <div class="trusted-grid">
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%23FF6B6B'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-family='Arial' font-size='12'%3ESpice Garden%3C/text%3E%3C/svg%3E" alt="Spice Garden Logo">
        <h4>Spice Garden</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%234ECDC4'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-family='Arial' font-size='12'%3ETaste Kerala%3C/text%3E%3C/svg%3E" alt="Taste of Kerala Logo">
        <h4>Taste of Kerala</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%2345B7D1'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-family='Arial' font-size='12'%3EBiriyani Bliss%3C/text%3E%3C/svg%3E" alt="Biriyani Bliss Logo">
        <h4>Biriyani Bliss</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%23F7DC6F'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='black' font-family='Arial' font-size='12'%3EKerala Flavors%3C/text%3E%3C/svg%3E" alt="Kerala Flavors Logo">
        <h4>Kerala Flavors</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%23BB8FCE'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-family='Arial' font-size='12'%3ECoastal Curry%3C/text%3E%3C/svg%3E" alt="Coastal Curry Logo">
        <h4>Coastal Curry</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%2385C1E9'/%3E%3Ctext x='50' y='50' text-anchor='middle' fill='white' font-family='Arial' font-size='10'%3ESouth Indian%3C/text%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-family='Arial' font-size='10'%3EDelight%3C/text%3E%3C/svg%3E" alt="South Indian Delight Logo">
        <h4>South Indian Delight</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%2382E0AA'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-family='Arial' font-size='12'%3EMalabar Magic%3C/text%3E%3C/svg%3E" alt="Malabar Magic Logo">
        <h4>Malabar Magic</h4>
      </div>
      <div class="trusted-item">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect width='100' height='100' fill='%23F1948A'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-family='Arial' font-size='12'%3EAppam House%3C/text%3E%3C/svg%3E" alt="Appam House Logo">
        <h4>Appam House</h4>
      </div>
    </div>
  </section>

  <!-- CONTACT SECTION -->
  <section id="contact">
    <h2>Contact Us</h2>
    <p>Email: kunsimol6037@example.com</p>
    <p>Phone: <a href="#">999 888 8778</a></p>
    <p>Instagram: <a href="https://instagram.com/kunsimol" target="_blank" rel="noopener">@kunsimol</a></p>
    <p>Location: Palakkad, Kerala, India</p>
  </section>

  <footer>
    <p>&copy; 2025 Kunsimol. All rights reserved.</p>
  </footer>

  <!-- Enhanced Script with Cart and Mobile Features -->
  <script>
    // Cart functionality
    let cart = JSON.parse(localStorage.getItem('kunsimolCart')) || [];
    
    // DOM Elements
    const cartBtn = document.getElementById('cartBtn');
    const cartSidebar = document.getElementById('cartSidebar');
    const cartOverlay = document.getElementById('cartOverlay');
    const closeCart = document.getElementById('closeCart');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const navLinks = document.getElementById('navLinks');
    const loadingOverlay = document.getElementById('loadingOverlay');

    // Initialize
    window.addEventListener('load', () => {
      updateCartUI();
      setTimeout(() => {
        if (loadingOverlay) {
          loadingOverlay.style.display = 'none';
        }
      }, 1500);
    });

    // Mobile menu toggle
    if (mobileMenuBtn) {
      mobileMenuBtn.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        mobileMenuBtn.classList.toggle('active');
      });
    }

    // Cart functionality
    function updateCartUI() {
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      
      if (cartCount) cartCount.textContent = totalItems;
      if (cartTotal) cartTotal.textContent = totalPrice;
      
      if (cartItems) {
        if (cart.length === 0) {
          cartItems.innerHTML = '<p class="empty-cart">Your cart is empty</p>';
        } else {
          cartItems.innerHTML = cart.map(item => `
            <div class="cart-item">
              <div class="cart-item-info">
                <h4>${item.name}</h4>
                <p>‚Çπ${item.price} √ó ${item.quantity}</p>
              </div>
              <div class="cart-item-controls">
                <button onclick="updateCartQuantity('${item.name}', -1)">-</button>
                <span>${item.quantity}</span>
                <button onclick="updateCartQuantity('${item.name}', 1)">+</button>
                <button onclick="removeFromCart('${item.name}')" class="remove-btn">√ó</button>
              </div>
            </div>
          `).join('');
        }
      }
      
      // Update menu quantities
      document.querySelectorAll('.menu-card').forEach(card => {
        const itemName = card.querySelector('.add-to-cart-btn')?.dataset.item;
        if (itemName) {
          const cartItem = cart.find(item => item.name === itemName);
          const quantitySpan = card.querySelector('.quantity');
          if (quantitySpan) {
            quantitySpan.textContent = cartItem ? cartItem.quantity : 0;
          }
        }
      });
      
      localStorage.setItem('kunsimolCart', JSON.stringify(cart));
    }

    function addToCart(name, price) {
      const existingItem = cart.find(item => item.name === name);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ name, price: parseInt(price), quantity: 1 });
      }
      updateCartUI();
      showNotification(`${name} added to cart!`);
    }

    function updateCartQuantity(name, change) {
      const item = cart.find(item => item.name === name);
      if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
          removeFromCart(name);
        } else {
          updateCartUI();
        }
      }
    }

    function removeFromCart(name) {
      cart = cart.filter(item => item.name !== name);
      updateCartUI();
      showNotification(`${name} removed from cart!`);
    }

    function updateMenuQuantity(button, change) {
      const card = button.closest('.menu-card');
      const itemName = card.querySelector('.add-to-cart-btn')?.dataset.item;
      const quantitySpan = card.querySelector('.quantity');
      
      if (!itemName || !quantitySpan) return;
      
      const currentQuantity = parseInt(quantitySpan.textContent);
      const newQuantity = Math.max(0, currentQuantity + change);
      
      quantitySpan.textContent = newQuantity;
      
      const cartItem = cart.find(item => item.name === itemName);
      if (cartItem) {
        if (newQuantity === 0) {
          removeFromCart(itemName);
        } else {
          cartItem.quantity = newQuantity;
          updateCartUI();
        }
      }
    }

    function showNotification(message) {
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.classList.add('show');
      }, 100);
      
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
          if (document.body.contains(notification)) {
            document.body.removeChild(notification);
          }
        }, 300);
      }, 2000);
    }

    // Event listeners
    if (cartBtn) {
      cartBtn.addEventListener('click', () => {
        if (cartSidebar) cartSidebar.classList.add('active');
        if (cartOverlay) cartOverlay.classList.add('active');
      });
    }

    [closeCart, cartOverlay].forEach(element => {
      if (element) {
        element.addEventListener('click', () => {
          if (cartSidebar) cartSidebar.classList.remove('active');
          if (cartOverlay) cartOverlay.classList.remove('active');
        });
      }
    });

    // Handle menu interactions
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('add-to-cart-btn')) {
        const item = e.target.dataset.item;
        const price = e.target.dataset.price;
        addToCart(item, price);
      }
      
      if (e.target.classList.contains('quantity-btn')) {
        const change = e.target.dataset.action === 'increase' ? 1 : -1;
        updateMenuQuantity(e.target, change);
      }

      // Handle old buttons for backward compatibility
      if (e.target.classList.contains('buy-btn') || e.target.classList.contains('add-btn')) {
        const item = e.target.dataset.item;
        const price = e.target.dataset.price;
        if (item && price) {
          addToCart(item, price);
        }
      }
    });

    // Checkout functionality
    const checkoutBtn = document.getElementById('checkoutBtn');
    if (checkoutBtn) {
      checkoutBtn.addEventListener('click', () => {
        if (cart.length === 0) {
          showNotification('Your cart is empty!');
          return;
        }
        
        const orderDetails = cart.map(item => `${item.name} x${item.quantity}`).join(', ');
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        
        window.location.href = `order.html?order=${encodeURIComponent(orderDetails)}&total=${total}`;
      });
    }

    // Handle both old buy buttons and new add buttons
    document.querySelectorAll('.buy-btn, .add-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const item = btn.dataset.item;
        const price = btn.dataset.price;
        window.location.href = `order.html?item=${encodeURIComponent(item)}&price=${encodeURIComponent(price)}`;
      });
    });
    // Kunsi Chatbot Logic
const openBtn = document.getElementById('openKunsi');
const closeBtn = document.getElementById('closeKunsi');
const chatBox = document.getElementById('kunsiChat');
const chatBody = document.getElementById('chatBody');
const sendBtn = document.getElementById('sendKunsi');
const input = document.getElementById('kunsiInput');

openBtn.onclick = () => { chatBox.style.display = 'flex'; };
closeBtn.onclick = () => { chatBox.style.display = 'none'; };

function appendMessage(msg, sender) {
  const div = document.createElement('div');
  div.textContent = msg;
  div.className = sender === 'user' ? 'user-msg' : 'kunsi-msg';
  chatBody.appendChild(div);
  chatBody.scrollTop = chatBody.scrollHeight;
}

// Simple AI response logic
function getKunsiResponse(message) {
  // Fuzzy match helper for typos
  function fuzzyIncludes(str, arr) {
    str = str.toLowerCase();
    return arr.some(word => {
      if (str.includes(word)) return true;
      // Allow 1 character off (Levenshtein distance 1)
      if (Math.abs(str.length - word.length) <= 1) {
        let mismatches = 0;
        for (let i = 0; i < Math.min(str.length, word.length); i++) {
          if (str[i] !== word[i]) mismatches++;
        }
        mismatches += Math.abs(str.length - word.length);
        if (mismatches <= 1) return true;
      }
      return false;
    });
  }
  const msg = message.toLowerCase();
  // Store last answer for repeat feature
  if (!window.kunsiLastAnswer) window.kunsiLastAnswer = '';
  // (Moved greeting check below food logic)
  // Goodbye
  if (fuzzyIncludes(msg, ['bye','goodbye','see you','cya'])) return window.kunsiLastAnswer = "Goodbye! Hope to see you soon at Kunsimol. Stay hungry, stay happy! üòä";
  // Emotional responses
  if (fuzzyIncludes(msg, ['sad','unhappy','depressed','upset'])) return window.kunsiLastAnswer = "Oh no! Sending you a virtual hug ü§ó and a plate of your favorite food. Remember, good food makes everything better!";
  if (fuzzyIncludes(msg, ['hungry','starving','craving'])) return window.kunsiLastAnswer = "Hungry? You‚Äôve come to the right place! Our Chicken Biriyani or Kunsimol Fried Chicken will fix that in no time!";
  // Repeat last answer
  if (fuzzyIncludes(msg, ['repeat','say again','once more'])) return window.kunsiLastAnswer || "I'm ready to help! Ask me anything about our food or restaurant.";
  // Menu
    if (msg.includes('food') || msg.includes('menu')) return window.kunsiLastAnswer = "üçΩÔ∏è Feast your eyes! Our menu: Chicken Biriyani (‚Çπ150) ‚Äì pure bliss, Porotta & Beef (‚Çπ180) ‚Äì Kerala's pride, Veg Meals (‚Çπ120) ‚Äì healthy & hearty, Shawarma Roll (‚Çπ90) ‚Äì a flavor bomb, Shawarma Plate (‚Çπ140) ‚Äì a party on your plate, Shawaya (‚Çπ200) ‚Äì smoky magic, Kunsimol Fried Chicken (‚Çπ160) ‚Äì crispy dreams, Kunsi Special (‚Çπ220) ‚Äì our chef's secret, Ali Ka Dhosth Tea (‚Çπ40) ‚Äì your new addiction, Lava Biriyani (‚Çπ250) ‚Äì fiery and bold, Malabar Porotta (‚Çπ60) ‚Äì street food king, Puttum Kadala (‚Çπ80) ‚Äì breakfast legend, Egg Roast (‚Çπ70) ‚Äì spicy and perfect, Appam & Stew (‚Çπ90) ‚Äì coconutty comfort, Fish Curry Meals (‚Çπ180) ‚Äì coastal classic! Want a spicy suggestion? Just ask!";
  // What's popular
  if (fuzzyIncludes(msg, ['popular','trending','famous','best seller'])) return window.kunsiLastAnswer = "Our most popular dishes right now: Chicken Biriyani, Kunsimol Fried Chicken, and Lava Biriyani! Customers can‚Äôt get enough. Want to try one?";
  // Food trivia and Kerala facts
  if (fuzzyIncludes(msg, ['trivia','fact','did you know','kerala'])) {
    const facts = [
      "Did you know? Kerala is called the 'Land of Spices' and is famous for its unique blend of flavors!",
      "Fun fact: The word 'Biriyani' comes from the Persian word 'birian', which means 'fried before cooking'.",
      "Kerala‚Äôs banana leaf meals are not just tasty‚Äîthey‚Äôre eco-friendly too!",
      "Puttu and Kadala is a classic Kerala breakfast, loved for generations.",
      "Shawarma is actually a Middle Eastern dish, but Kerala has made it its own with unique spices!",
      "Appam is made with fermented rice batter and coconut milk, giving it a soft, spongy texture.",
      "Porotta is famous for its flaky layers‚Äîcreated by repeatedly folding and rolling the dough!",
      "Fish curry in Kerala uses tamarind and coconut for a tangy, creamy flavor.",
      "Tea (chai) is a big part of Kerala‚Äôs culture‚Äîtry our Ali Ka Dhosth Tea for the real experience!"
    ];
    return window.kunsiLastAnswer = facts[Math.floor(Math.random() * facts.length)];
  }
  // New food item direct responses
  if (fuzzyIncludes(msg, ['lava biriyani'])) return "Lava Biriyani is ‚Çπ250. Fiery, flavorful biriyani with a molten spicy center. Only for the brave!";
  if (fuzzyIncludes(msg, ['malabar porotta'])) return "Malabar Porotta is ‚Çπ60. Flaky, soft, and Kerala‚Äôs street food king!";
  if (fuzzyIncludes(msg, ['puttum kadala'])) return "Puttum Kadala is ‚Çπ80. Steamed rice cake with spicy black chickpea curry‚Äîa breakfast legend!";
  if (fuzzyIncludes(msg, ['egg roast'])) return "Egg Roast is ‚Çπ70. Boiled eggs in spicy onion-tomato masala. Perfect with appam or porotta!";
  if (fuzzyIncludes(msg, ['appam & stew','appam and stew'])) return "Appam & Stew is ‚Çπ90. Soft appams with creamy coconut stew‚Äîa Kerala breakfast classic!";
  if (fuzzyIncludes(msg, ['fish curry meals'])) return "Fish Curry Meals is ‚Çπ180. Steamed rice with spicy Kerala fish curry and all the sides. Coastal comfort!";
  // Food recommendation
  if (msg.includes('recommend') || msg.includes('suggest')) return "If you love spicy, try our Chicken Biriyani or Kunsi Special! For something light, Veg Meals or Ali Ka Dhosth Tea is perfect. Want something crispy? Go for Kunsimol Fried Chicken!";
  // Order status (simulated)
  if (msg.includes('order status') || msg.includes('where is my order') || msg.includes('track')) return "To check your order status, please call us at +91 999 888 8778 or mention your order details here. We'll help you right away!";
  // Jokes
    if (msg.includes('joke')) {
      const jokes = [
        "Why did the chicken cross the road? To get to Kunsimol Foods, of course! üçóüòÇ",
        "What do you call a fake noodle? An Impasta! üòÜ",
        "Why don‚Äôt eggs tell jokes? They‚Äôd crack each other up! ü•öü§£",
        "What did the hungry customer say at Kunsimol? 'I‚Äôm on a roll... a Shawarma Roll!' üòã",
        "Why did the biriyani go to therapy? It had too many layers! üçöüß†",
        "Why did the porotta blush? Because it saw the curry! üò≥ü•ò",
        "What‚Äôs a chicken‚Äôs favorite movie? The Biriyani King! üëëüçó",
        "Why did the tea go to school? To become a little 'chai-ld' prodigy! ‚òïüéì",
        "Why did the fish curry get promoted? Because it was outstanding in its field! üêüüåæ",
        "Why did the appam break up with the stew? It needed more space! ü••üíî"
      ];
      return window.kunsiLastAnswer = jokes[Math.floor(Math.random() * jokes.length)];
    }
  // Location
  if (msg.includes('location') || msg.includes('where')) return "We are located in Palakkad, Kerala, India. üìç Open 10AM‚Äì10PM every day!";
  // Contact
  if (msg.includes('contact') || msg.includes('phone') || msg.includes('email')) return "You can email us at kunsimol6037@example.com or call +91 999 888 8778. We're also on Instagram @kunsimol!";
  // About
  if (msg.includes('about')) return "Kunsimol Foods serves authentic Kerala cuisine made with love, fresh ingredients, and a touch of tradition. We deliver happiness!";
  // Price lookup and food name triggers (typo-tolerant, multi-food)
  const foodInfos = [
    { names: ['chicken biriyani'], answer: "ü§© Chicken Biriyani is just ‚Çπ150! Spicy, aromatic, and a legend on your plate. One bite and you‚Äôll be hooked!" },
    { names: ['porotta & beef','porotta','beef'], answer: "Porotta & Beef is ‚Çπ180. Kerala‚Äôs classic combo ‚Äì soft, flaky, and oh-so-satisfying!" },
    { names: ['veg meals','vegetarian meals'], answer: "Veg Meals is ‚Çπ120. A banana leaf feast that‚Äôll make your heart (and tummy) happy!" },
    { names: ['shawarma roll'], answer: "Shawarma Roll is ‚Çπ90. Juicy, grilled, and wrapped with love. Street food dreams!" },
    { names: ['shawarma plate'], answer: "Shawarma Plate is ‚Çπ140. Chicken, hummus, salad, pita ‚Äì it‚Äôs a flavor festival!" },
    { names: ['shawaya'], answer: "Shawaya is ‚Çπ200. Smoky, marinated, and unforgettable ‚Äì a true showstopper!" },
    { names: ['kunsimol fried chicken','fried chicken'], answer: "Kunsimol Fried Chicken is ‚Çπ160. Crispy, golden, and dangerously addictive!" },
    { names: ['kunsi special'], answer: "Kunsi Special is ‚Çπ220. Our chef‚Äôs masterpiece ‚Äì slow-cooked, spiced, and unforgettable!" },
    { names: ['ali ka dhosth tea','ali ka dhosth'], answer: "Ali Ka Dhosth Tea is ‚Çπ40. The perfect chai hug to end your meal!" }
  ];
  let foundFoods = [];
  for (const food of foodInfos) {
    if (fuzzyIncludes(msg, food.names)) foundFoods.push(food.answer);
  }
  if (foundFoods.length === 1) return foundFoods[0];
  if (foundFoods.length > 1) return foundFoods.join('\n');
  // Sensational/fun responses for food names (typo-tolerant)
  if (fuzzyIncludes(msg, ['shawaya'])) return "üî• Shawaya is our smoky, marinated masterpiece‚Äî‚Çπ200. One bite and you‚Äôll be dreaming of more! Ready to taste magic?";
  if (fuzzyIncludes(msg, ['shawarma roll'])) return "üåØ Shawarma Roll is a crowd-pleaser‚Äî‚Çπ90. Grab one and let the good times roll!";
  if (fuzzyIncludes(msg, ['kunsi special'])) return "‚ú® Kunsi Special is our signature dish‚Äî‚Çπ220. A must-try for foodies and flavor hunters!";
  if (fuzzyIncludes(msg, ['chicken biriyani'])) return "üçó Chicken Biriyani is legendary here‚Äî‚Çπ150. Spicy, satisfying, and made with love!";
  if (fuzzyIncludes(msg, ['veg meals'])) return "ü•ó Veg Meals‚Äî‚Çπ120. Healthy, hearty, and pure Kerala goodness!";
  if (fuzzyIncludes(msg, ['porotta & beef'])) return "ü•© Porotta & Beef‚Äî‚Çπ180. The classic Kerala combo, made to melt in your mouth!";
  if (fuzzyIncludes(msg, ['ali ka dhosth tea','ali ka dhosth'])) return "‚òï Ali Ka Dhosth Tea‚Äî‚Çπ40. The best way to end your meal, with a smile!";
  // Greetings (moved here to avoid 'hi' in 'chicken biriyani' bug)
  if (msg.includes('hello') || msg.includes('hi')) return window.kunsiLastAnswer = "Hello! I'm Kunsi ü§ñ, your smart assistant. How can I help you today? Try asking for food recommendations, order status, or a joke!";
  // Thanks
  if (msg.includes('thank')) return window.kunsiLastAnswer = "Aww, you‚Äôre welcome! üòä If you want a food joke, a spicy tip, or just to talk biriyani, I‚Äôm here for you! You‚Äôre the reason I love my job!";
  // Fallback
  return window.kunsiLastAnswer = "I'm Kunsi ü§ñ! You can ask about our menu, get food recommendations, check your cart, or just chat! What would you like to know? üòä";
}

sendBtn.onclick = () => {
  const msg = input.value.trim();
  if (!msg) return;
  appendMessage(msg, 'user');
  input.value = '';
  setTimeout(() => {
    appendMessage(getKunsiResponse(msg), 'kunsi');
  }, 500);
};

// Allow pressing Enter to send message
input.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    sendBtn.click();
    e.preventDefault();
  }
});

// Scroll animation for food section
const foodSection = document.getElementById('food');
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('animate');
    }
  });
});
observer.observe(foodSection);

  </script>

</body>
</html>
